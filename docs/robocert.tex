\documentclass[a4paper]{memoir}
\usepackage[T1]{fontenc}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{stmaryrd}
\usepackage{circus}
\usepackage{listings}
\usepackage{xcolor}
% fonts
\usepackage{mathptmx}
\usepackage{tgadventor}
\usepackage[scaled]{beramono}

\usepackage{hyperref}
\usepackage{cleveref}

% Open question.
\newcommand{\todo}[1]{\textcolor{orange}{(#1)}}
\newcommand{\metaref}[1]{{\fontfamily{qhv}\selectfont #1}}

\theoremstyle{definition}
\newtheorem{defn}{Definition}

\newcommand{\thead}[1]{\textbf{#1}}
\newcommand{\tsubhead}[1]{\textit{#1}}

\setlrmarginsandblock{2.5cm}{2cm}{*}
\setulmarginsandblock{2cm}{*}{1}
\setmarginnotes{0.25cm}{0.5cm}{1cm}
\checkandfixthelayout


\makepagestyle{sruled}
\makeevenfoot {sruled}{}{}{}
\makeoddfoot  {sruled}{}{}{}
\makeheadrule {sruled}{\textwidth}{\normalrulethickness}
\makeevenhead {sruled}{\sffamily\bfseries\leftmark}{}{\sffamily\thepage}
\makeoddhead  {sruled}{\sffamily\thepage}{}{\sffamily\rightmark}

\makepsmarks{sruled}{%
   \nouppercaseheads
   \createmark{chapter}{right}{shownumber}{}{. \space}
   \createmark{section}{left}{shownumber}{}{. \space}
   \createplainmark{toc}{both}{\contentsname}
   \createplainmark{lof}{both}{\listfigurename}
   \createplainmark{lot}{both}{\listtablename}
   \createplainmark{bib}{both}{\bibname}
   \createplainmark{index}{both}{\indexname}
   \createplainmark{glossary}{both}{\glossaryname}}


\lstset{
	basicstyle={\small\ttfamily}	
}
\lstdefinelanguage{RoboCert}{
	morekeywords={
	anything,
	as,
	end,
	event,
	except,
	from,
	for,
	in,
	loop,
	module,
	operation,
	sequence,
	then,
	to,
	until,
	world,
	},
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]",
}
\lstdefinestyle{Example}{
	title={\textsf{\footnotesize Textual syntax example}},
	language=RoboCert,
	frame=single,
}

\newcommand{\lquote}[1]{\text{`\lstinline[language=RoboCert]{#1}'}}

\newcommand{\langname}{{\sffamily\slshape RoboCert}}

\title{\langname{} Sequence Diagram Prototype}
\author{Matt Windsor}

\begin{document}

\headstyles{komalike}
\chapterstyle{ell}
\pagestyle{sruled}

\maketitle

\tableofcontents{}


\section*{How to read this report}
\input{readme}

\part{Syntax}

\chapter{Abstract syntax}
\input{metamodel}

\chapter{Textual syntax}
\todo{TODO}

\chapter{Graphical syntax}
\todo{TODO}

\part{Well-formedness and Semantics}

\chapter{Well-formedness}
\todo{TODO}

\chapter{Semantics}
\input{semantics}

\end{document}