% !TEX root=../../robocert.tex
\newcommand{\insp}[1]{\ul{#1}}

This section compares \langname{} sequence features to any
corresponding features in the other notations.
For each feature, we highlight the main source of inspiration (if any)
using \insp{underlines}.

% \subsection{Sequences~(\ref{sec:metamodel-sequences})}

\subsection{Steps~(\ref{sec:seq-metamodel-steps})}

\paragraph{\msequencestep}
\begin{featset}
\item[UML] \insp{interaction fragment}
\end{featset}

Not all \msequencestep s correspond directly to interaction fragments.

\paragraph{\mdeadlinestep}
\begin{featset}
\item[UML] \insp{duration constraint}, time observations and constraints
\item[TPSC] clock constraint
\item[AGLPT] upper time bounds
\end{featset}

UML2 allows time and duration constraints to relate to named observations taken
previously in the sequence.  By combining a time observation at one end of a
subsequence with a time constraint at the other, we can capture a form of clock
constraint.  We do not yet capture observations.

While \robochart{} has clocks, we do not yet expose them in
\langname, as we consider them to be an implementation concern.

\paragraph{\mloopstep}
\begin{featset}
\item[UML] \insp{loop combined fragment}
\item[PSC] loop operator
\end{featset}

\mloopbound s are inspired by those permitted by UML.

\paragraph{Gaps}
\begin{featset}
\item[PSC] \insp{constraints}, strict operator
\item[AGLPT] until
\end{featset}

Gaps resemble past-unwanted-message constraints, but
allow restricting the set of \emph{allowed} messages;
this subsumes the strict operator.  Graphical syntax is a slight
modification of PSC syntax.  We do not cover
future-unwanted-message or chain constraints.  Currently, all
ordering is assumed strict unless modified by a gap; this
deviates from PSC \emph{and} some readings of UML.

\subsection{Actions~(\ref{sec:seq-metamodel-actions})}

\paragraph{\marrowaction}
\begin{featset}
\item[UML] \insp{message occurrence specification}
\item[PSC] regular message
\end{featset}

Arrows are named for the PSC \emph{arrowMSG} concept but are closer
to UML.

\paragraph{\mwaitaction}
\begin{featset}
\item[UML] combination of time observations and constraints(?)
\item[TPSC] clock constraints(?)
\end{featset}

The exact form of this operator comes mostly from \robochart{} and, to
a lesser extent, \tockcsp.
Because wait actions in \langname{} assert that one
action occurs at least some time units after another, we assume that it is
possible to encode the same pattern using clock-style constraints.

\subsection{Messages~(\ref{sec:metamodel-messages})}

\paragraph{\mmessageset}
\begin{featset}
\item[PSC] \insp{constraint set}
\end{featset}

\mrefmessageset s are directly inspired by the PSC approach to referencing constraint sets.

\paragraph{\mmessagespec}
\begin{featset}
\item[UML] ??
\item[PSC] \insp{arrowMSG, intraMSG}
\end{featset}

We do not cover PSC required or fail messages.
Notion of direction (inbound/outbound) rather than sender/receiver labels.

\subsection{Actors~(\ref{sec:metamodel-actors})}

\paragraph{\mactor}
\begin{featset}
\item[UML] lifeline
\item[MSC] \insp{lifeline}
\item[LSC] \insp{lifeline}
\item[PSC] \insp{component instance}
\end{featset}

Unlike most notations, we fix the number of actors at two
\ghtodo{32}{for now} in \langname: a \mtarget{} and a \mworld{}.
Neither are named, though the \mtarget{} will refer to a
named component such as a \mrcmodule.

Like MSC, LSC, and PSC (but unlike UML), there are no executions.

\subsection{Assertions~(\ref{sec:seq-metamodel-assertions})}

As \langname{} is a notation for automated property checking,
sequence properties more closely resemble CSP-M/FDR refinement
assertions than the usual ways of reasoning about UML or PSC sequence diagrams.  As such,
features of \msequenceproperty{} capture some
concepts that are part of the diagram language 
in other notations:

\begin{itemize}
\item
  LSC
  existential charts (specifying behaviour we expect to see at least once
  in the model) become is-observed properties in
  \langname;
\item
  LSC notions of mandatory progress can be
  captured partially by use of tick-tock reasoning
  in \langname, though this applies to whole diagrams.
\end{itemize}

\subsection{Matrix}

\newcommand\rot{\rotatebox{90}}
\newcommand\matding[1]{{\small#1}}
\newcommand\OK{\matding{\checkmark}}
\newcommand\ASST{\matding{A}}
\newcommand\ISH{\matding{E}}
\newcommand\NO{\matding{\(\bullet\)}}
\newcommand\SOON{\matding{\(\circ\)}}
\newcommand\NA{\matding{n/a}}
\newcommand\INTIMED{\matding{T}}
\newcommand\INPROB{\matding{P}}

\begin{table}[htb!]
  \centering

  \begin{tabular}{rc|ccccccccc}
    \toprule
    
    & \rot{\thead{\langname}}
    & \rot{\thead{\featname{UML}}}
    & \rot{\thead{\featname{MARTE}}}
    & \rot{\thead{\featname{STAIRS}}}
    & \rot{\thead{\featname{MSC}}}
    & \rot{\thead{\featname{HMSC}}}
    & \rot{\thead{\featname{LSC}}}
    & \rot{\thead{\featname{PSC}}}
    & \rot{\thead{\featname{PSP}}}
    & \rot{\thead{\featname{AGLPT}}}
    \\
    \midrule    
    \multicolumn{7}{l}{\tsubhead{Modalities}}
    \\
    Specification-level (universal/existential)
    & \ASST  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \NO  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \OK  % LSC
    & ?  % PSC
    & ?  % PSP
    & ?  % AGLPT 
    \\
    Assertion block (`X must not happen')
    & \NO  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \NO  % LSC
    & \NO  % PSC
    & ?  % PSP
    & ?  % AGLPT 
    \\ 
    Negation block (`X must happen')
    & \NO  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \NO  % LSC
    & \NO  % PSC
    & \OK  % PSP
    & ?  % AGLPT 
    \\ 
    Mandatory progress (liveness)
    & \ASST  % Us
    & ?  % UML
    & ?  % MARTE
    & ?  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \OK  % LSC
    & ?  % PSC
    & ?  % PSP
    & ?  % AGLPT 
    \\  
    \midrule
    \multicolumn{7}{l}{\tsubhead{Messages}}
    \\
    Asynchronous
    & \OK  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & \OK  % MSC
    & \OK  % HMSC
    & \OK  % LSC
    & \NO  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Synchronous
    & \SOON  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \OK  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Mandatory
    & \NO  % Us
    & \ISH  % UML
    & \ISH  % MARTE
    & \ISH  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \OK  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Forbidden
    & \NO  % Us
    & \ISH  % UML
    & \ISH  % MARTE
    & \ISH  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \NO  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \midrule
    \multicolumn{7}{l}{\tsubhead{Conditionally executed blocks}}
    \\
    Optional (\texttt{opt})
    & \NO  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & \NO  % MSC
    & \ISH  % HMSC
    & \NO?  % LSC
    & \ISH  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Potential alternative (\texttt{alt}, \(\sqcap\))
    & \SOON  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & \NO  % MSC
    & \ISH  % HMSC
    & \NO?  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Mandatory alternative (\texttt{xalt}, \(\extchoice\))
    & \SOON  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \OK  % STAIRS
    & ?  % MSC
    & \NO?  % HMSC
    & \NO?  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \midrule
    \multicolumn{7}{l}{\tsubhead{Other control flows}}
    \\
    Loops
    & \OK  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \NO?  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Breaks
    & \SOON  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \OK  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \OK  % LSC
    & \OK  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Sub-charts
    & \NO  % Us
    & \NO?  % UML
    & \NO?  % MARTE
    & \NO?  % STAIRS
    & ?  % MSC
    & ?  % HMSC
    & \OK  % LSC
    & \NO  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Pre-charts
    & \NO  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \NO  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \OK  % LSC
    & \INPROB  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \midrule
    \multicolumn{7}{l}{\tsubhead{Timing features}}
    \\
    Explicit wait
    & \OK  % Us
    & \ISH  % UML
    & \ISH  % MARTE
    & \INTIMED  % STAIRS
    & \ISH  % MSC
    & \ISH  % HMSC
    & \ISH  % LSC
    & \INTIMED  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Ranged wait
    & \SOON  % Us
    & \ISH  % UML
    & \ISH  % MARTE
    & \INTIMED  % STAIRS
    & \ISH  % MSC
    & \ISH  % HMSC
    & \ISH  % LSC
    & \INTIMED?  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Lower-bounded duration
    & \SOON  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \INTIMED  % STAIRS
    & \INTIMED  % MSC
    & ?  % HMSC
    & \OK  % LSC
    & \INTIMED?  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Upper-bounded duration (deadline)
    & \OK  % Us
    & \OK  % UML
    & \OK  % MARTE
    & \INTIMED  % STAIRS
    & \INTIMED  % MSC
    & \INTIMED  % HMSC
    & \OK  % LSC
    & \INTIMED  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \midrule
    \multicolumn{7}{l}{\tsubhead{Probabilistic features}}
    \\
    Main chart/diagram
    & \NO  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \NO  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \NO  % LSC
    & \INPROB  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    Alternative (\texttt{palt})
    & \SOON  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \INPROB  % STAIRS
    & \NO  % MSC
    & \INPROB  % HMSC
    & \INPROB  % LSC
    & \NO  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \midrule
    \multicolumn{7}{l}{\tsubhead{Other}}
    \\
    Gaps (or similar)
    & \OK  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \NO  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \NO  % LSC
    & \OK  % PSC
    & ?  % PSP
    & \ISH?  % AGLPT
    \\
    Enforced progress (hot locations)
    & \NO  % Us
    & \NO  % UML
    & \NO  % MARTE
    & \NO  % STAIRS
    & \NO  % MSC
    & \NO  % HMSC
    & \OK  % LSC
    & \NO  % PSC
    & ?  % PSP
    & ?  % AGLPT
    \\
    \bottomrule
  \end{tabular}
  \caption{Matrix of features available in \langname{} sequences compared to
    other notations.}
  \label{tab:seq-comparison-features}
\end{table}

\Cref{tab:seq-comparison-features} summarises the \langname{} features listed earlier
(which may correspond to similar features in other
notations) as well as features in other notations for which \langname{} does not yet have a counterpart.
The symbols in this table have the following meaning:

\begin{description}
\item[\OK] Directly supported.
\item[\SOON] Not yet supported, but
  support is planned.
\item[\NO] Not supported or planned, to the best of our knowledge.
\item[\ISH] Not directly supported, but can be encoded using other
  features.
\item[\ASST] Not directly supported in the
  diagram language, but can be encoded using the
  assertion language.  For example, \langname{} handles
  the difference between universal and existential
  quantifications in assertions.
\item[\INTIMED] Supported, or encodable, in timed variants of this
  notation (for example, timed STAIRS).
\item[\INPROB] Supported, or encodable, in
  probabilistic variants of this
  notation (for example, PTPSC).
\end{description}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../robocert"
%%% End:
