%!TEX root=../robocert.tex

This part of the manual formally captures the semantics of \langname{} in terms
of its target languages:

\begin{itemize}
\item
	\tockcsp~(\cref{cha:semantics-tockcsp});
\item
	\todo{PRISM}~(\cref{cha:semantics-prism});
\item
	\todo{Isabelle/UTP?}.
\end{itemize}

Each semantics captures \massertion s as the top-level definition, with all
objects reachable from the assertions translated in-line.  As a
consequence, we do not capture organisational details such as \mrapackage s,
or any distinction between references to objects and their definitions.

\section{How to read these chapters}

\input{semantics/metavars}

The semantics treatments in this part take the form of rewrite rules from
the \langname{} metamodels to some object language (for
instance, \tockcsp).
For conciseness, we use a meta-language based on the Z notation.
We also use the following notational conventions:

\begin{itemize}
\item
	\(\sema{-}{name}\) denotes a main semantic rule;
\item
	\(\funcname{name}()\) denotes auxiliary semantic functions;
\item
	\(\field{x}{name}\) denotes a field of the metamodel object \(x\);
\item
	\tlang{\text{boxed shaded text}} denotes a construct from the object
	language; outside such text, or \tlang{\olang{\text{inside nested boxes}}},
	assume use of the meta-language.  For example, consider the \tockcsp{}
	construct:
	\[\tlang{
		\runproc{\olang{\gapsema{\field{\astep}{gap}}{\field{\astep}{action}}}}
		\interrupt \olang{\actsema{\field{\astep}{action}}}
	}\]
	Here, \(\runproc{}\) and \(\interrupt\) are part of \tockcsp, while
	\(\actsema{\field{\astep}{action}}\) is an semantic operation on the
	\langname{} metamodel.
\item
	variables in the meta-language have an implicit metamodel type
	corresponding to one of the metasyntactic variables in
	\cref{tab:metasyntactic-variables}.
\end{itemize}

\section{Dependencies on the \robochart{} semantics}

\todo{this may need to move to the \tockcsp{} section eventually}

Each semantics treatment in this section assumes the existence of a compatible
semantics for \robochart.  Specifically, we assume the following rules and
functions are available, or can be derived, from such a semantics:

\begin{itemize}
\item
	let \targetProcess{-} map a target to the parametric
	process exposed by the relevant \tockcsp{} semantics (for instance,
	we delegate to the \robochart{} semantics for the underlying
	\mrcmodule{} of a \mrcmoduletarget);
	\todo{doesn't account for the ID parameter in certain target
	processes};
\item
	let \targetParams{-} map a target to the sequence of
	constants in its parameterisation;
\item
	let \constName{-} map a constant to its name in the \robochart{}
	instantiations file;
\item
	let \(\exprsema{\anexpr}{\acontext}\) be the expression semantics of 
	\(\anexpr\) in the context \(\acontext\).  The expression semantics
	is external to this semantics, but is largely that of Z.
\end{itemize}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "robocert"
%%% End:
